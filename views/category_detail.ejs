<!DOCTYPE html>
<html class="bg-slate-100">
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/output.css" />
  </head>
  <body class="h-screen flex flex-col font-mono">
    <header
      class="flex-none h-36 grid place-content-center bg-slate-600 font-bold text-5xl shadow-md text-white p-4"
    >
      <h1>Store Inventory Manager</h1>
    </header>
    <main class="flex-grow grid grid-cols-[300px_1fr] bg-slate-900">
      <div
        class="bg-slate-800 p-6 m-6 rounded-md shadow-lg grid content-start gap-9"
      >
        <div>
          <h3 class="font-bold text-xl mb-3 text-white">Main Pages</h3>
          <ul class="grid content-start gap-1">
            <a href="/" class="text-cyan-100 hover:text-cyan-300">Home</a>
            <a href="/inventory" class="text-cyan-100 hover:text-cyan-300"
              >Inventory</a
            >
          </ul>
        </div>
        <hr />
        <div>
          <h3 class="font-bold text-xl mb-3 text-white">Visitor Actions</h3>
          <ul class="grid content-start gap-1">
            <a
              href="/inventory/categories"
              class="text-cyan-100 hover:text-cyan-300"
              >Categories</a
            >
            <a href="/inventory/items" class="text-cyan-100 hover:text-cyan-300"
              >Products</a
            >
          </ul>
        </div>
        <hr />
        <div>
          <h3 class="font-bold text-xl mb-3 text-white">Admin Actions</h3>
          <ul class="grid content-start gap-1">
            <a
              href="/inventory/categories/create"
              class="text-cyan-100 hover:text-cyan-300"
              >Create Category</a
            >
            <a
              href="/inventory/items/create"
              class="text-cyan-100 hover:text-cyan-300"
              >Create Product</a
            >
          </ul>
        </div>
      </div>
      <div
        class="bg-slate-700 p-6 m-6 rounded-md shadow-lg grid content-start gap-4"
      >
        <div class="flex justify-start gap-4 items-center">
          <h2 class="text-3xl text-white font-bold"><%= header %></h2>
          <a
            href="<%= category.url %>/update"
            class="p-1 text-white bg-slate-500 rounded hover:bg-slate-600"
            >Update</a
          >
          <a
            href="<%= category.url %>/delete"
            class="p-1 text-white bg-slate-500 rounded hover:bg-slate-600"
            >Delete</a
          >
        </div>
        <!-- START OF DYNAMIC CONTENT -->
        <div
          class="text-slate-900 text-lg p-4 bg-slate-600 rounded w-auto flex flex-wrap gap-4"
        >
          <% if (locals.allItems) { %> <% locals.allItems.forEach(item => { %>
          <a
            href="<%= item.url %>"
            class="bg-amber-100 flex-initial w-64 rounded flex flex-col overflow-hidden"
          >
            <div class="flex-initial h-36 overflow-hidden">
              <img
                src="<%= item.imgUrl %>"
                alt="category image"
                class="w-64 object-cover object-center"
              />
            </div>
            <div class="flex-1 p-4">
              <h4 class="text-md mb-1">
                <strong><%= item.name %></strong>
              </h4>
              <div class="flex justify-start gap-4 mb-1 content-center">
                <p><i>$<%= item.price.toFixed(2) %></i></p>
                <p
                  class="text-blue-500 italic text-sm rounded grid place-content-center"
                >
                  <%= item.category.name %>
                </p>
              </div>
              <p class="p-1 text-slate-800 text-sm mb-2">
                <i><strong><%= item.numberInStock %></strong> in stock</i>
              </p>
              <p class="text-sm"><%= item.description %></p>
            </div>
          </a>
          <% }) %> <% } else { %>
          <p class="text-white">
            No items exist in this category - go add some!
          </p>
          <% } %>
        </div>
        <!-- END OF DYNAMIC MAIN CONTENT -->
      </div>
    </main>
    <footer
      class="flex-initial h-28 text-center text-xl grid place-content-center font-bold bg-amber-200 p-4"
    >
      <p class="text-slate-900">2024 Copyright Maximilian Aoki</p>
    </footer>
  </body>
</html>
